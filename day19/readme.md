## 题解

> 这题写了很久，所以想归纳下解题的题解。

首先，这题是一道**立体空间**的数学题，需要用到「简单的几何学」-- 向量 。

由于在立体空间中，构建解题思路会有一些难度，我们其实可以把这题的背景抽象到平面空间里面，再推广至一般的数学描述，于是此题的描述就变成了:

```
给定N个平面坐标系以及位于平面坐标系的坐标点，已知这些平面坐标系两两之间会有至少12个坐标点重合，并且这些平面坐标系是可以绕着各自原点旋转的(坐标的相对位置会改变)。

求所有平面坐标系相对于N0(第一个平面坐标系)的坐标点的坐标(P1)，以及所有坐标系原点(相对于N0)最大的曼哈顿距离(P2)。
```

根据「简单的几何学」，我们可以知道，既然两两坐标系之间有至少12个坐标点重合，那么这两个坐标系之间**必定会存在至少12个相同的向量**(方向相同，长度相同)，也就是说如果我们把一个坐标系通过 旋转，平移 操作使得此坐标系原点与另一个坐标系原点重合，那么必定会存在至少12个重合的坐标点，并且这个向量就是**坐标系原点之间偏移的位置**。所以，我们只要对两个坐标系的坐标点进行O(n*n)的遍历，就可以固定所有坐标系相对于N0的旋转角度以及他们所在的坐标系原点相对于N0的偏移位置。之后后面的问题就可以迎刃而解了。

接下来，带着这个一般规律到立体空间里面，向量重合部分还是一样的，只是旋转之后坐标点的变化变麻烦了，这时候手边有一个立方体(长方体)玩具就可以帮我们解决这个难题，比如我是口香糖盒(?)，通过标记这个物体，就可以得到翻转时 x,y,z 轴 的坐标变化(高中数学老师: 你脸都不要了)。

最后，再代入概念描述:

* 坐标原点: scanner
* 坐标点: beacons
* 坐标系: coordinate system
* 坐标系旋转: rotate or turn

这样，这题就变得相对容易解决了。

综上, 再第一次看到「两个 coordinate system 会有至少 12 个 beacon overlap」的时候，因为没有很敏锐的数学sense，所以就懵了。第一版的解法是傻莽，但是在遇到最后 O( n ^ n) 之后直接劝退。开始归纳数学模型，最后发现能退化到平面坐标系到最后O(n * n)解决问题，有点不可思议。(等一下，这题真的不是初二水平的数学题 ？我怎么想了这么久 ！)
